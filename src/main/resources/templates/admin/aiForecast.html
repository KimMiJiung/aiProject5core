<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>자동차 관리자 CRM</title>
  <link th:href="@{/css/aiForecast.css}" rel="stylesheet">
</head>
<body>
	<div class="sidebar">
	   <div class="sidebar__logo">
	       <div class="sidebar__logo-title">관리 메뉴</div>
	   </div>

	   <div class="sidebar__section-title">Navigation</div>
	   <ul class="menu-list">
	     <li>
		   <a th:href="@{/main}" class="menu-item">
		     <span class="menu-item__bullet"></span>
		     <span>메인 대시보드</span>
		   </a>
		 </li>
		 <li>
		   <a th:href="@{/admin/profile}" class="menu-item">
		     <span class="menu-item__bullet"></span>
		     <span>프로필</span>
		   </a>
		 </li>		 
		 <li>
		   <a th:href="@{/admin/list}" class="menu-item">
		     <span class="menu-item__bullet"></span>
		     <span>멤버 관리</span>
		   </a>
		 <li>
		   <a th:href="@{/admin/globalSales}" class="menu-item">
		     <span class="menu-item__bullet"></span>
		     <span>글로벌 판매 실적</span>
		   </a>
		 </li>
		 <li>
		   <a th:href="@{/admin/aiForecast}" class="menu-item menu-item--active">
		     <span class="menu-item__bullet"></span>
		     <span>AI수요예측</span>
		   </a>
		 </li>			 
		 <li>
		   <a th:href="@{/admin/modelSales}" class="menu-item">
		     <span class="menu-item__bullet"></span>
		     <span>차량별 판매 실적</span>
		   </a>
		 </li>
	  </ul>
	  <div class="sidebar__bottom">
	       HYUNDAI CRM · Admin Console
	 </div>
  </div>

  <div class="main">
    <div class="header">
      <div class="header__left">
        <div class="logo">HYUNDAI CRM</div>
        <div class="header__chip">Admin Dashboard</div>
      </div>
      <div class="user-info">
        <span class="user-info__role">관리자</span>
        <span>[[${#authentication.getPrincipal().getUsername()}]] 님</span>
        <span class="logout"><a sec:authorize="isAuthenticated()" th:href="@{/logout}" class="nav-link">로그아웃</a></span>
      </div>
    </div>
	
	<div class="content">
	  <!-- 목록형 탭 버튼 영역 -->
	  <div class="ai-toggle">
	    <button type="button" id="btn-domestic" class="ai-toggle__btn ai-toggle__btn--active">국내 수요 예측</button>
	    <button type="button" id="btn-na" class="ai-toggle__btn">북미 수요 예측</button>
	  </div>

	  <div class="content__row ai1">
	    <div class="frame-wrapper">
	      <iframe
	        src="http://localhost:8512/5core"
	        title="국내수요예측"
	        loading="lazy"
	        allowfullscreen>
	      </iframe>
	    </div>
	  </div>
	  
	  <div class="content__row ai2">
	    <div class="frame-wrapper">
	      <iframe
	        src="http://localhost:8513/5core"
	        title="북미수요예측"
	        loading="lazy"
	        allowfullscreen>
	      </iframe>
	    </div>
	  </div>
	</div>

	<script>
	  document.addEventListener("DOMContentLoaded", function () {
	    var btnDomestic = document.getElementById("btn-domestic");
	    var btnNa = document.getElementById("btn-na");
	    var sectionDomestic = document.querySelector(".ai1");
	    var sectionNa = document.querySelector(".ai2");

	    function showDomestic() {
	      btnDomestic.classList.add("ai-toggle__btn--active");
	      btnNa.classList.remove("ai-toggle__btn--active");
	      sectionDomestic.style.display = "block";
	      sectionNa.style.display = "none";
	    }

	    function showNa() {
	      btnNa.classList.add("ai-toggle__btn--active");
	      btnDomestic.classList.remove("ai-toggle__btn--active");
	      sectionDomestic.style.display = "none";
	      sectionNa.style.display = "block";
	    }

	    // 초기 상태: 국내만 보이게
	    showDomestic();

	    btnDomestic.addEventListener("click", showDomestic);
	    btnNa.addEventListener("click", showNa);
	  });
	</script>
</body>
</html>