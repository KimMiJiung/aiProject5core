<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
	<link th:href="@{/css/addMember.css}" rel="stylesheet">
    <script>		
		function searchAddress() {
			new daum.Postcode({
		        oncomplete: function(data) {
		            document.getElementById("zipcode").value = data.zonecode;
					document.getElementById("basicAddress").value = data.address;
		        }
		    }).open();
		}
    </script>
</head>
<body>
	<header class="page-header">
	  <div class="page-header__title">HYUNDAI CRM · 회원가입</div>
	</header>

	<div class="layout">
	  <div class="shell">

	    <!-- 메인 콘텐츠 -->
	    <main class="main">
	      <div class="main__header">
	        <div class="main__title-block">
	          <h1 class="page-title">회원 가입</h1>
	        </div>
	      </div>

	      <section class="card" aria-label="회원 가입 폼">
	        <h2 class="card__title">기본 정보</h2>
	        <p class="card__subtitle">필수 항목을 확인 후 정보를 수정해 주세요.</p>

	        <form id="memberEditForm" th:object="${member}" th:action="@{/member/add}" method="post">
			  <input type="hidden" name="roleCheck" th:field="*{roleCheck}">
	          <div class="form-grid">
	            <div class="form-group">
	              <label for="memberId" class="form-label">아이디</label>
	              <input id="memberId" name="memberId" type="text" class="form-input" />
				  <p class="helper-text" th:errors="*{memberId}"></p>
	            </div>
				
				<div class="form-group">
				  <label for="name" class="form-label">이름</label>
				  <input id="name" name="name" type="text" class="form-input" />
				  <p class="helper-text" th:errors="*{name}"></p>
				</div>
				
				<div class="form-group">
				  <label for="password" class="form-label">비밀번호<span class="required">*</span></label>
				  <input id="password" name="password" type="password" class="form-input" />
				  <p class="helper-text" th:errors="*{password}"></p>
				</div>

				<div class="form-group">
				  <label for="password2" class="form-label">비밀번호 확인<span class="required">*</span></label>
				  <input id="password2" name="password2" type="password" class="form-input" />
				  <p class="helper-text" th:errors="*{password2}"></p>
				</div>

	            <div class="form-group">
	              <label class="form-label">성별</label>
				  <div class="gender-group">
				      <div class="radioBox"><input type="radio" name="gender" value="남성" id="gender1"><label for="gender1" class="radio_check">남성</label></div>
				      <div class="radioBox"><input type="radio" name="gender" value="여성" id="gender2"><label for="gender2" class="radio_check">여성</label></div>
				  </div>
				  <p class="helper-text" th:errors="*{gender}"></p>
	            </div>

	            <div class="form-group">
	              <label for="phone" class="form-label">연락처<span class="required">*</span></label>
	              <input id="phone" name="phone" type="tel" class="form-input" />
				  <p class="helper-text" th:errors="*{phone}"></p>
	            </div>

	            <div class="form-group">
	              <label for="email" class="form-label">이메일<span class="required">*</span></label>
	              <input id="email" name="email" type="email" class="form-input" />
				  <p class="helper-text" th:errors="*{email}"></p>
	            </div>
				
				<div class="form-group">
				  <label for="zip" class="form-label">국가명</label>
				  <select name="address.country" class="form-input">
				  	<option value="한국">한국</option>
				  	<option value="일본">일본</option>
				  	<option value="중국">중국</option>
				  	<option value="미국">미국</option>
				  	<option value="영국">영국</option>
				  	<option value="프랑스">프랑스</option>
				  </select>
				  <p class="helper-text" th:errors="*{address.country}"></p>
				</div>
				
	            <div class="form-group">
	              <label for="zip" class="form-label">우편번호</label>
				  <input type="text" name="address.zipcode" class="form-input" id="zipcode" th:field="*{address.zipcode}" readonly>
	            </div>
				
				<div class="addressBtn">
				  <a th:href="|javascript:searchAddress()|" class="btn btn--ghost" role="button">주소검색</a>
				</div>

	            <div class="form-group form-group--full">
	              <label class="form-label">주소</label>
	              <div class="address-row">
					<input type="text" name="address.basicAddress" class="form-input" id="basicAddress" th:field="*{address.basicAddress}" readonly>
	                <input type="text" name="address.detailAddress" class="form-input" th:field="*{address.detailAddress}">
	              </div>
				  <p class="helper-text" th:errors="*{address.basicAddress}"></p>
				  <p class="helper-text" th:errors="*{address.detailAddress}"></p>
	            </div>
				
				<!-- 고객 회원가입 -->
				<div class="form-group" th:if="${member.roleCheck == '01'}">
					<div>고객</div>
				</div>

				<!-- 딜러 회원가입 -->
				<div class="form-group" th:if="${member.roleCheck == '02'}">
					<div>딜러</div>
				</div>

	          </div>

	          <div class="form-actions">
				<input type="submit" class="btn btn--primary" value="가입하기">
				<button type="button" class="btn btn--ghost" onclick="window.history.back();">취소</button>
	          </div>
	        </form>
	      </section>
	    </main>
	  </div>
	</div>

	<!-- 검정 푸터 (링크 include 예정 영역) -->
	<footer class="page-footer"></footer>
	

</div>
</body>
</html>